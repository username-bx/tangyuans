import{_ as s}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as a,d as n,o as e}from"./app-Dv4R8O3P.js";const t={};function l(h,i){return e(),a("div",null,[...i[0]||(i[0]=[n(`<h2 id="ğŸ“‹-å½“å‰æƒ…å†µç†è§£" tabindex="-1"><a class="header-anchor" href="#ğŸ“‹-å½“å‰æƒ…å†µç†è§£"><span>ğŸ“‹ <strong>å½“å‰æƒ…å†µç†è§£</strong></span></a></h2><h3 id="éƒ¨ç½²æ–¹å¼ç°çŠ¶" tabindex="-1"><a class="header-anchor" href="#éƒ¨ç½²æ–¹å¼ç°çŠ¶"><span><strong>éƒ¨ç½²æ–¹å¼ç°çŠ¶ï¼š</strong></span></a></h3><p><strong>ç¬¬ä¸€ç§éƒ¨ç½²æ–¹å¼ï¼š</strong></p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">bun</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> i</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> </span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">NODE_ENV</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">production</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> bun</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> run</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> build</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>ç›´æ¥åœ¨æœåŠ¡å™¨ä¸Šè¿è¡Œ</li><li>ä½¿ç”¨ <code>NODE_ENV=production</code></li><li>è¯»å– <code>.env.production</code> æ–‡ä»¶</li></ul><p><strong>ç¬¬äºŒç§éƒ¨ç½²æ–¹å¼ï¼š</strong></p><div class="language-dockerfile line-numbers-mode" data-highlighter="shiki" data-ext="dockerfile" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-dockerfile"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">FROM</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> oven/bun:slim </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">AS</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> base</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">WORKDIR</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> /app</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">ENV</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> NODE_ENV=production  # â† è¿™é‡Œè®¾ç½®äº†production</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># ... ä½ æä¾›çš„å®Œæ•´Dockerfile</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>ä½¿ç”¨Dockerå®¹å™¨è¿è¡Œ</li><li>Dockerfileä¸­è®¾ç½®äº† <code>ENV NODE_ENV=production</code></li><li>åŒæ ·è¯»å– <code>.env.production</code> æ–‡ä»¶</li></ul><h2 id="âŒ-æ ¸å¿ƒé—®é¢˜æè¿°" tabindex="-1"><a class="header-anchor" href="#âŒ-æ ¸å¿ƒé—®é¢˜æè¿°"><span>âŒ <strong>æ ¸å¿ƒé—®é¢˜æè¿°</strong></span></a></h2><p><strong>é—®é¢˜ï¼šä¸¤ç§éƒ¨ç½²æ–¹å¼éƒ½ä½¿ç”¨åŒä¸€ä¸ªç¯å¢ƒé…ç½®</strong></p><ul><li>ç¬¬ä¸€ç§éƒ¨ç½²ï¼ˆç›´æ¥éƒ¨ç½²ï¼‰å’Œç¬¬äºŒç§éƒ¨ç½²ï¼ˆDockerï¼‰éƒ½è®¾ç½®äº† <code>NODE_ENV=production</code></li><li>ä¸¤ç§éƒ¨ç½²æ–¹å¼éƒ½ä¼šè¯»å–åŒä¸€ä¸ª <code>.env.production</code> æ–‡ä»¶</li><li><strong>ä½†å®é™…ä¸Šä½ å¸Œæœ›è¿™ä¸¤ç§éƒ¨ç½²æ–¹å¼ä½¿ç”¨ä¸åŒçš„ç¯å¢ƒé…ç½®</strong></li></ul><p>æˆ‘æ¥è¯¦ç»†è§£é‡Š <code>bun run build</code> çš„å®Œæ•´æµç¨‹ï¼Œç‰¹åˆ«æ˜¯åœ¨ä½ çš„åŒç¯å¢ƒéƒ¨ç½²åœºæ™¯ä¸‹ï¼šæˆ‘æ¥è¯¦ç»†è§£é‡Š <code>bun run build</code> çš„å®Œæ•´æµç¨‹ï¼Œç‰¹åˆ«æ˜¯åœ¨ä½ çš„åŒç¯å¢ƒåœºæ™¯ä¸‹ï¼š</p><h2 id="ğŸ”„-æ ¸å¿ƒæµç¨‹" tabindex="-1"><a class="header-anchor" href="#ğŸ”„-æ ¸å¿ƒæµç¨‹"><span>ğŸ”„ <strong>æ ¸å¿ƒæµç¨‹</strong></span></a></h2><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>bun run build â†’ æŸ¥æ‰¾package.json â†’ æ‰§è¡Œnext build â†’ è¯»å–next.config.js â†’ åŠ è½½ç¯å¢ƒå˜é‡ â†’ ç¼–è¯‘æ„å»º</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="âš™ï¸-å…³é”®æ—¶æœº-next-config-js-çš„æ‰§è¡Œ" tabindex="-1"><a class="header-anchor" href="#âš™ï¸-å…³é”®æ—¶æœº-next-config-js-çš„æ‰§è¡Œ"><span>âš™ï¸ <strong>å…³é”®æ—¶æœºï¼šnext.config.js çš„æ‰§è¡Œ</strong></span></a></h2><p><strong>å½“ <code>bun run build</code> å¼€å§‹æ—¶ï¼š</strong></p><ol><li><strong>Next.js ç«‹å³è¯»å–å¹¶æ‰§è¡Œ next.config.js</strong></li><li><strong>è¿™æ—¶å€™ä½ çš„ç¯å¢ƒæ£€æµ‹ä»£ç å°±è¿è¡Œäº†ï¼š</strong></li></ol><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-javascript"><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// next.config.js åœ¨æ„å»ºå¼€å§‹æ—¶æ‰§è¡Œ</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">console</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">log</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;ğŸ” Current APP_ENV:&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">process</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">env</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#E06C75;">APP_ENV</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">if</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">process</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">env</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#E06C75;">APP_ENV</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> ===</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;staging&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  require</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;dotenv&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">).</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">config</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">({ </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">path</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;.env.staging&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> });    </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// åŠ è½½æµ‹è¯•ç¯å¢ƒå˜é‡</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">} </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">else</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  require</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;dotenv&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">).</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">config</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">({ </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">path</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;.env.production&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> }); </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// åŠ è½½ç”Ÿäº§ç¯å¢ƒå˜é‡</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="ğŸŒ-ä¸¤ç§éƒ¨ç½²çš„ç¯å¢ƒå˜é‡çŠ¶æ€" tabindex="-1"><a class="header-anchor" href="#ğŸŒ-ä¸¤ç§éƒ¨ç½²çš„ç¯å¢ƒå˜é‡çŠ¶æ€"><span>ğŸŒ <strong>ä¸¤ç§éƒ¨ç½²çš„ç¯å¢ƒå˜é‡çŠ¶æ€</strong></span></a></h2><h3 id="ç¬¬ä¸€ç§éƒ¨ç½²-bunç›´æ¥" tabindex="-1"><a class="header-anchor" href="#ç¬¬ä¸€ç§éƒ¨ç½²-bunç›´æ¥"><span><strong>ç¬¬ä¸€ç§éƒ¨ç½²ï¼ˆbunç›´æ¥ï¼‰ï¼š</strong></span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">NODE_ENV</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">production</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> bun</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> run</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> build</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><strong>æ­¤æ—¶ç¯å¢ƒå˜é‡ï¼š</strong></p><ul><li><code>process.env.NODE_ENV = &#39;production&#39;</code> âœ…</li><li><code>process.env.APP_ENV = undefined</code> âœ… (æœªè®¾ç½®)</li></ul><p><strong>æ‰§è¡Œç»“æœï¼š</strong></p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-javascript"><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">if</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">undefined</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> ===</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;staging&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) â†’ </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">false</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// èµ° else åˆ†æ”¯ â†’ åŠ è½½ .env.production</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="ç¬¬äºŒç§éƒ¨ç½²-docker" tabindex="-1"><a class="header-anchor" href="#ç¬¬äºŒç§éƒ¨ç½²-docker"><span><strong>ç¬¬äºŒç§éƒ¨ç½²ï¼ˆDockerï¼‰ï¼š</strong></span></a></h3><div class="language-dockerfile line-numbers-mode" data-highlighter="shiki" data-ext="dockerfile" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-dockerfile"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">ENV</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> NODE_ENV=production</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">ENV</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> APP_ENV=staging    # è¿™é‡Œè®¾ç½®çš„ï¼</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">RUN</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> bun run build</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>æ­¤æ—¶ç¯å¢ƒå˜é‡ï¼š</strong></p><ul><li><code>process.env.NODE_ENV = &#39;production&#39;</code> âœ…</li><li><code>process.env.APP_ENV = &#39;staging&#39;</code> âœ… (Dockerè®¾ç½®çš„)</li></ul><p><strong>æ‰§è¡Œç»“æœï¼š</strong></p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-javascript"><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">if</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;staging&#39;</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> ===</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;staging&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) â†’ </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">true</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  </span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// èµ° if åˆ†æ”¯ â†’ åŠ è½½ .env.staging</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="ğŸ¯-ä¸ºä»€ä¹ˆåœ¨dockerfileä¸­è®¾ç½®-env-app-env-staging" tabindex="-1"><a class="header-anchor" href="#ğŸ¯-ä¸ºä»€ä¹ˆåœ¨dockerfileä¸­è®¾ç½®-env-app-env-staging"><span>ğŸ¯ <strong>ä¸ºä»€ä¹ˆåœ¨Dockerfileä¸­è®¾ç½® <code>ENV APP_ENV=staging</code>ï¼Ÿ</strong></span></a></h2><p><strong>å°±æ˜¯ä¸ºäº†è®©Dockeræ„å»ºæ—¶ï¼š</strong></p><ol><li><strong>next.config.js èƒ½æ£€æµ‹åˆ° <code>APP_ENV=staging</code></strong></li><li><strong>ä»è€ŒåŠ è½½ <code>.env.staging</code> è€Œä¸æ˜¯ <code>.env.production</code></strong></li><li><strong>æœ€ç»ˆæ„å»ºå‡ºä½¿ç”¨æµ‹è¯•ç¯å¢ƒé…ç½®çš„åº”ç”¨</strong></li></ol><h2 id="ğŸ“-æ„å»ºç»“æœçš„åŒºåˆ«" tabindex="-1"><a class="header-anchor" href="#ğŸ“-æ„å»ºç»“æœçš„åŒºåˆ«"><span>ğŸ“ <strong>æ„å»ºç»“æœçš„åŒºåˆ«</strong></span></a></h2><p><strong>ç¬¬ä¸€ç§éƒ¨ç½²æ„å»ºåï¼š</strong></p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-javascript"><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// .next/ ç›®å½•ä¸­çš„ä»£ç åŒ…å«ï¼š</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">process</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">env</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#E06C75;">NEXT_PUBLIC_API_URL</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;https://api.prod.example.com&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ç¬¬äºŒç§éƒ¨ç½²æ„å»ºåï¼š</strong></p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-javascript"><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// .next/ ç›®å½•ä¸­çš„ä»£ç åŒ…å«ï¼š</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">process</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">env</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#E06C75;">NEXT_PUBLIC_API_URL</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;https://api.staging.example.com&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="ğŸ’¡-å…³é”®ç†è§£" tabindex="-1"><a class="header-anchor" href="#ğŸ’¡-å…³é”®ç†è§£"><span>ğŸ’¡ <strong>å…³é”®ç†è§£</strong></span></a></h2><p><strong><code>ENV APP_ENV=staging</code> çš„ä½œç”¨æ—¶æœºï¼š</strong></p><ul><li>â° <strong>æ„å»ºæ—¶</strong>ï¼ˆ<code>bun run build</code> æ‰§è¡ŒæœŸé—´ï¼‰</li><li>ğŸ“ <strong>åœ¨ next.config.js ä¸­è¢«æ£€æµ‹</strong></li><li>ğŸ¯ <strong>å†³å®šåŠ è½½å“ªä¸ªç¯å¢ƒé…ç½®æ–‡ä»¶</strong></li><li>ğŸ—ï¸ <strong>å½±å“æ•´ä¸ªæ„å»ºè¿‡ç¨‹å’Œæœ€ç»ˆäº§ç‰©</strong></li></ul><p><strong>ç®€å•æ¥è¯´ï¼š</strong> è¿™ä¸ªç¯å¢ƒå˜é‡å°±æ˜¯å‘Šè¯‰æ„å»ºè¿‡ç¨‹&quot;æˆ‘ç°åœ¨æ˜¯Dockeréƒ¨ç½²ï¼Œè¯·ä½¿ç”¨æµ‹è¯•ç¯å¢ƒçš„é…ç½®æ¥æ„å»ºåº”ç”¨&quot;ï¼</p><p>è¿™æ ·ç†è§£äº†å—ï¼Ÿè¿™ä¸ªç¯å¢ƒå˜é‡æ˜¯åœ¨<strong>æ„å»ºæ—¶</strong>èµ·ä½œç”¨çš„ï¼Œä¸æ˜¯è¿è¡Œæ—¶ï¼</p>`,44)])])}const p=s(t,[["render",l]]),d=JSON.parse('{"path":"/software/51-nextjsEnv.html","title":"Nextjs åŒç¯å¢ƒéƒ¨ç½²å®Œæ•´æ€è·¯","lang":"zh-CN","frontmatter":{"title":"Nextjs åŒç¯å¢ƒéƒ¨ç½²å®Œæ•´æ€è·¯","shortTitle":"Nextjs åŒç¯å¢ƒéƒ¨ç½²","icon":"pen-to-square","date":"2025-10-10T00:00:00.000Z","star":true,"order":51,"category":["Nextjs"],"tag":["Nextjs"],"auther":"Tang Yuan","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Nextjs åŒç¯å¢ƒéƒ¨ç½²å®Œæ•´æ€è·¯\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2025-10-10T00:00:00.000Z\\",\\"dateModified\\":\\"2025-10-10T07:51:55.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Tang Yuan\\",\\"url\\":\\"\\"}]}"],["meta",{"property":"og:url","content":"https://mister-hope.github.io/software/51-nextjsEnv.html"}],["meta",{"property":"og:site_name","content":"æ±¤åœ†"}],["meta",{"property":"og:title","content":"Nextjs åŒç¯å¢ƒéƒ¨ç½²å®Œæ•´æ€è·¯"}],["meta",{"property":"og:description","content":"ğŸ“‹ å½“å‰æƒ…å†µç†è§£ éƒ¨ç½²æ–¹å¼ç°çŠ¶ï¼š ç¬¬ä¸€ç§éƒ¨ç½²æ–¹å¼ï¼š ç›´æ¥åœ¨æœåŠ¡å™¨ä¸Šè¿è¡Œ ä½¿ç”¨ NODE_ENV=production è¯»å– .env.production æ–‡ä»¶ ç¬¬äºŒç§éƒ¨ç½²æ–¹å¼ï¼š ä½¿ç”¨Dockerå®¹å™¨è¿è¡Œ Dockerfileä¸­è®¾ç½®äº† ENV NODE_ENV=production åŒæ ·è¯»å– .env.production æ–‡ä»¶ âŒ æ ¸å¿ƒé—®é¢˜æè¿° é—®..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-10-10T07:51:55.000Z"}],["meta",{"property":"article:tag","content":"Nextjs"}],["meta",{"property":"article:published_time","content":"2025-10-10T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2025-10-10T07:51:55.000Z"}],["meta",{"name":"keywords","content":"Nextjs"}]],"description":"ğŸ“‹ å½“å‰æƒ…å†µç†è§£ éƒ¨ç½²æ–¹å¼ç°çŠ¶ï¼š ç¬¬ä¸€ç§éƒ¨ç½²æ–¹å¼ï¼š ç›´æ¥åœ¨æœåŠ¡å™¨ä¸Šè¿è¡Œ ä½¿ç”¨ NODE_ENV=production è¯»å– .env.production æ–‡ä»¶ ç¬¬äºŒç§éƒ¨ç½²æ–¹å¼ï¼š ä½¿ç”¨Dockerå®¹å™¨è¿è¡Œ Dockerfileä¸­è®¾ç½®äº† ENV NODE_ENV=production åŒæ ·è¯»å– .env.production æ–‡ä»¶ âŒ æ ¸å¿ƒé—®é¢˜æè¿° é—®..."},"git":{"createdTime":1760082715000,"updatedTime":1760082715000,"contributors":[{"name":"Benjamin","username":"Benjamin","email":"benjaminma@example.com","commits":1,"url":"https://github.com/Benjamin"}]},"readingTime":{"minutes":2.43,"words":729},"filePathRelative":"software/51-nextjsEnv.md","excerpt":"<h2>ğŸ“‹ <strong>å½“å‰æƒ…å†µç†è§£</strong></h2>\\n<h3><strong>éƒ¨ç½²æ–¹å¼ç°çŠ¶ï¼š</strong></h3>\\n<p><strong>ç¬¬ä¸€ç§éƒ¨ç½²æ–¹å¼ï¼š</strong></p>\\n<div class=\\"language-bash line-numbers-mode\\" data-highlighter=\\"shiki\\" data-ext=\\"bash\\" style=\\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\\"><pre class=\\"shiki shiki-themes one-light one-dark-pro vp-code\\"><code class=\\"language-bash\\"><span class=\\"line\\"><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\">bun</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> i</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\"> </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#E45649;--shiki-dark:#E06C75\\">NODE_ENV</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#56B6C2\\">=</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\">production</span><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\"> bun</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> run</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> build</span></span></code></pre>\\n<div class=\\"line-numbers\\" aria-hidden=\\"true\\" style=\\"counter-reset:line-number 0\\"><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div></div></div>","autoDesc":true}');export{p as comp,d as data};
